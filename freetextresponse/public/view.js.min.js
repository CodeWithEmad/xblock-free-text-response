function FreeTextResponseView(a,b){"use strict";function c(a){m.removeClass("correct"),m.removeClass("incorrect"),m.removeClass("unanswered"),m.addClass(a)}var d=window.jQuery,e=d(b),f=e.find(".check.Submit"),g=e.find(".save"),h=e.find(".action .used-attempts-feedback"),i=e.find(".problem-progress"),j=e.find(".submission-received"),k=e.find(".user_alert"),l=e.find(".student_answer"),m=l.parent(),n=a.handlerUrl(b,"submit"),o=a.handlerUrl(b,"save_reponse"),p=e.attr("data-usage-id"),q=p+"_cached_answer",r=p+"_problem_progress",s=p+"_used_attempts_feedback";void 0!==d("body").data(q)&&(l.text(d("body").data(q)),i.text(d("body").data(r)),h.text(d("body").data(s))),a.notify=a.notify||function(){console.log("POLYFILL runtime.notify",arguments)},f.on("click",function(){return f.text(f[0].dataset.checking),a.notify("submit",{message:"Submitting...",state:"start"}),d.ajax(n,{type:"POST",data:JSON.stringify({student_answer:e.find(".student_answer").val()}),success:function(b){h.text(b.used_attempts_feedback),f.addClass(b.nodisplay_class),i.text(b.problem_progress),j.text(b.submitted_message),f.text(f[0].dataset.value),k.text(b.user_alert),g.addClass(b.nodisplay_class),c(b.indicator_class),d("body").data(q,e.find(".student_answer").val()),d("body").data(r,b.problem_progress),d("body").data(s,b.used_attempts_feedback),a.notify("submit",{state:"end"})},error:function(){a.notify("error",{})}}),!1}),g.on("click",function(){return g.text(g[0].dataset.checking),a.notify("save",{message:"Saving...",state:"start"}),d.ajax(o,{type:"POST",data:JSON.stringify({student_answer:e.find(".student_answer").val()}),success:function(b){f.addClass(b.nodisplay_class),g.addClass(b.nodisplay_class),h.text(b.used_attempts_feedback),i.text(b.problem_progress),j.text(b.submitted_message),g.text(g[0].dataset.value),k.text(b.user_alert),d("body").data(q,e.find(".student_answer").val()),d("body").data(r,b.problem_progress),d("body").data(s,b.used_attempts_feedback),a.notify("save",{state:"end"})},error:function(){a.notify("error",{})}}),!1}),l.on("keydown",function(){j.text(""),k.text(""),c("unanswered")})}
//# sourceMappingURL=view.js.min.js.map
